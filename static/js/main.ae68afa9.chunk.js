(this.webpackJsonpminiproject=this.webpackJsonpminiproject||[]).push([[0],{181:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),i=a.n(r),c=a(16),s=a.n(c),o=a(218),l=a(224),d=a(221),j=a(225),u=a(124),h=a.n(u),b=a(25),m=a(184),p=a(60),x=Object(o.a)((function(e){return{mainFeaturedPost:{position:"relative",backgroundColor:e.palette.grey[800],color:e.palette.common.white,marginBottom:e.spacing(4),backgroundImage:"url(https://source.unsplash.com/random)",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},overlay:{position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"rgba(0,0,0,.3)"},mainFeaturedPostContent:Object(b.a)({position:"relative",padding:e.spacing(3)},e.breakpoints.up("md"),{padding:e.spacing(6),paddingRight:0})}}));function O(e){var t=x(),a=e.post;return Object(n.jsxs)(m.a,{className:t.mainFeaturedPost,style:{backgroundImage:"url(".concat(a.image,")")},children:[Object(n.jsx)("img",{style:{display:"none"},src:a.image,alt:a.imageText}),Object(n.jsx)("div",{className:t.overlay}),Object(n.jsx)(d.a,{container:!0,children:Object(n.jsx)(d.a,{item:!0,md:6,children:Object(n.jsxs)("div",{className:t.mainFeaturedPostContent,children:[Object(n.jsx)(p.a,{component:"h1",variant:"h3",color:"inherit",gutterBottom:!0,children:a.title}),Object(n.jsx)(p.a,{variant:"h5",color:"inherit",paragraph:!0,children:a.description})]})})})]})}var v=a(222);function g(e){var t=e.title;return Object(n.jsxs)(d.a,{item:!0,xs:12,md:8,children:[Object(n.jsx)(p.a,{variant:"h4",gutterBottom:!0,children:t}),Object(n.jsx)(v.a,{}),Object(n.jsx)(p.a,{variant:"h6",gutterBottom:!0,children:Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"A Real time web hosted system connecting students, authorities and Mess facilities and introducing transparency amongst them"}),Object(n.jsx)("li",{children:"Assuring Best quality of Food and Drinking water"}),Object(n.jsx)("li",{children:"De - Monopolizing the influence of the Mess Facility"}),Object(n.jsx)("li",{children:"Introducing healthy competition amongstdifferent food providers."})]})})]})}var f=a(223),y=Object(o.a)((function(e){return{sidebarAboutBox:{padding:e.spacing(2),backgroundColor:e.palette.grey[200]},sidebarSection:{marginTop:e.spacing(3)}}}));function w(e){var t=y(),a=e.description,r=e.social,i=e.title;return Object(n.jsxs)(d.a,{item:!0,xs:12,md:4,children:[Object(n.jsxs)(m.a,{elevation:0,className:t.sidebarAboutBox,children:[Object(n.jsx)(p.a,{variant:"h6",gutterBottom:!0,children:i}),Object(n.jsx)(p.a,{children:a})]}),Object(n.jsx)(p.a,{variant:"h6",gutterBottom:!0,className:t.sidebarSection,children:"Social"}),r.map((function(e){return Object(n.jsx)(f.a,{display:"block",variant:"body1",href:e.url,children:Object(n.jsxs)(d.a,{container:!0,direction:"row",spacing:1,alignItems:"center",children:[Object(n.jsx)(d.a,{item:!0,children:Object(n.jsx)(e.icon,{})}),Object(n.jsx)(d.a,{item:!0,children:e.name})]})},e)}))]})}var C=a(7),N=a(123),k=(a(159),a(182),N.a.initializeApp({apiKey:"AIzaSyAlOKJrWHyY-5MfadbWicwBnhdam6j2cYE",authDomain:"grievance-system-3be67.firebaseapp.com",projectId:"grievance-system-3be67",storageBucket:"grievance-system-3be67.appspot.com",messagingSenderId:"477946279778",appId:"1:477946279778:web:49d2cc5de58daa9a53de3b"})),S=k.auth(),B=k.storage(),T=Object(r.createContext)();function F(){return Object(r.useContext)(T)}function E(e){var t=e.children,a=Object(r.useState)(),i=Object(C.a)(a,2),c=i[0],s=i[1];Object(r.useEffect)((function(){return S.onAuthStateChanged((function(e){s(e)}))}),[]);var o={currentUser:c,signup:function(e,t){return S.createUserWithEmailAndPassword(e,t)},signout:function(){return S.signOut()},signin:function(e,t){return S.signInWithEmailAndPassword(e,t)}};return Object(n.jsx)(T.Provider,{value:o,children:t})}var D=Object(o.a)((function(e){return{mainGrid:{marginTop:e.spacing(3)}}})),R={title:"Student Grievance System",description:"A Web platform for Grievance Management regarding Food Quality and Sanitaion",image:"https://images.unsplash.com/photo-1502957291543-d85480254bf8?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTV8fG5pZ2h0fGVufDB8MHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=600",imgText:"main image description",linkText:"Continue reading\u2026"},A={post1:"ities and Mess facilitiesssue Mess Facilitygstdifferent food providers."},G={title:"About",description:"We ought to provide a software-based solution in the form of a Real time web hosted environment, mainly",social:[{name:"GitHub",icon:h.a,url:"https://github.com/AdityaZade/MiniProject"}]};function I(){var e=D();F().currentUser;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(l.a,{}),Object(n.jsx)(j.a,{maxWidth:"lg",children:Object(n.jsxs)("main",{children:[Object(n.jsx)(O,{post:R}),Object(n.jsxs)(d.a,{container:!0,spacing:5,className:e.mainGrid,children:[Object(n.jsx)(g,{title:"How are we useful?",posts:A}),Object(n.jsx)(w,{title:G.title,description:G.description,social:G.social})]})]})})]})}var W=a(15),M=a(18),P=a(38),z=a(251),U=a(234),q=a(235),L=a(227),_=a(231),Z=a(230),H=a(226),$=a(228),V=a(229),Y=Object(o.a)({table:{minWidth:"100%",maxWidth:650},heading:{fontWeight:"bolder",color:"#FFF"}});function J(e){var t=e.timetable,a=Y(),r=1;return Object(n.jsx)(H.a,{component:m.a,children:Object(n.jsxs)(L.a,{className:a.table,"aria-label":"simple table",children:[Object(n.jsx)($.a,{style:{backgroundColor:"#000"},children:Object(n.jsxs)(V.a,{children:[Object(n.jsx)(Z.a,{className:a.heading,children:"Week Days"}),Object(n.jsx)(Z.a,{className:a.heading,align:"center",children:"Breakfast"}),Object(n.jsx)(Z.a,{className:a.heading,align:"center",children:"Lunch"}),Object(n.jsx)(Z.a,{className:a.heading,align:"center",children:"Dinner"})]})}),Object(n.jsx)(_.a,{children:t.map((function(e){return Object(n.jsxs)(V.a,{style:{backgroundColor:r++%2===0?"#eee":"#fff"},children:[Object(n.jsx)(Z.a,{component:"th",scope:"row",children:e.day}),Object(n.jsx)(Z.a,{align:"center",children:e.breakfast}),Object(n.jsx)(Z.a,{align:"center",children:e.lunch}),Object(n.jsx)(Z.a,{align:"center",children:e.dinner})]},e._id)}))})]})})}var K=a(232),X=a(233),Q=a(256),ee=Object(o.a)({card:{display:"flex",width:"100%",marginBottom:10,margin:"auto",minWidth:300},cardDetails:{flex:1}});function te(e){var t=ee(),a=e.post;return Object(n.jsx)(d.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(K.a,{className:t.card,children:Object(n.jsx)("div",{className:t.cardDetails,children:Object(n.jsxs)(X.a,{children:[Object(n.jsx)(p.a,{component:"h2",variant:"h5",children:a.reviewTitle}),Object(n.jsx)(p.a,{variant:"subtitle1",color:"textSecondary",children:a.authourName}),Object(n.jsx)(p.a,{variant:"subtitle1",paragraph:!0,children:a.reviewBody}),Object(n.jsxs)(z.a,{style:{display:"flex",flexDirection:"row"},children:[Object(n.jsx)(p.a,{variant:"subtitle1",paragraph:!0,children:"Rating out of 5: "}),Object(n.jsx)(Q.a,{readOnly:!0,value:parseInt(a.rating)})]})]})})})})}var ae=a(13),ne=a.n(ae),re=a(19),ie=a(125),ce=a.n(ie).a.create({baseURL:"https://grievance-system-wce.herokuapp.com/"}),se=Object(r.createContext)();function oe(){return Object(r.useContext)(se)}function le(e){var t=e.children,a=F().currentUser,i=Object(r.useState)(null),c=Object(C.a)(i,2),s=c[0],o=c[1];Object(r.useEffect)(Object(re.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=11;break}return e.prev=1,e.next=4,ce.get("/findUser/".concat(a.email));case 4:t=e.sent,o(t.data[0]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[a]);var l={user:s};return Object(n.jsx)(se.Provider,{value:l,children:t})}var de=Object(r.createContext)();function je(){return Object(r.useContext)(de)}function ue(e){var t=e.children,a=Object(r.useState)(null),i=Object(C.a)(a,2),c=i[0],s=i[1],o=Object(r.useState)(null),l=Object(C.a)(o,2),d=l[0],j=l[1],u=Object(r.useState)(null),h=Object(C.a)(u,2),b=h[0],m=h[1],p=Object(r.useState)(0),x=Object(C.a)(p,2),O=x[0],v=x[1],g=0;Object(r.useEffect)(Object(re.a)(ne.a.mark((function e(){var t,a,n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.get("/getmess");case 3:t=e.sent,s(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,e.next=13,ce.get("/getcanteen");case 13:a=e.sent,j(a.data),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10),console.log(e.t1);case 20:return e.prev=20,e.next=23,ce.get("/getgrievance");case 23:n=e.sent,m(n.data),e.next=30;break;case 27:e.prev=27,e.t2=e.catch(20),console.log(e.t2);case 30:case"end":return e.stop()}}),e,null,[[0,7],[10,17],[20,27]])}))),[O]);var f={mess:c,canteen:d,grievance:b,updateComponent:function(){v(g+=1)}};return Object(n.jsx)(de.Provider,{value:f,children:t})}var he=Object(o.a)({item:{margin:10},mainGrid:{backgroundColor:"#eee",alignItems:"center",justifyContent:"center"},pictureBox:{width:"100%"},contentGrid:{display:"flex",flexDirection:"column"},dTitle:{marginBottom:20},timeGrid:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},paper:{display:"flex",flexDirection:"row",padding:20,borderRadius:10},timeBox:{display:"flex",flexDirection:"column"},link:{textDecoration:"none",color:"black"},editBtn:{padding:"1%",width:100,color:"#000",backgroundColor:"#FFF"}}),be=function(e){var t=e.location.state.item,a=he(),i=oe().user,c=je(),s=c.mess,o=c.updateComponent,l="Student",u=Object(r.useState)(),h=Object(C.a)(u,2),b=h[0],x=h[1],v=Object(r.useState)(),g=Object(C.a)(v,2),f=g[0],y=g[1];i&&(l=i.type.toString()),Object(r.useEffect)((function(){if(o(),s){var e=s.find((function(e){return e._id===t._id}));x(e.timetable),y(e.reviews)}}),[s]);var w={image:"https://wallup.net/wp-content/uploads/2017/03/29/490310-Fries-tomatoes-food.jpg",imageText:"Mess name can be very lo",title:"".concat(t.name),description:"".concat(t.information)},N=0;return Object(n.jsxs)(d.a,{className:a.mainGrid,container:!0,children:[Object(n.jsx)(z.a,{className:a.pictureBox,children:Object(n.jsx)(O,{post:Object(P.a)(Object(P.a)({},w),{},{description:""})})}),Object(n.jsxs)(d.a,{item:!0,container:!0,sm:12,md:12,xs:12,children:[Object(n.jsx)(d.a,{className:a.contentGrid,item:!0,md:7,sm:7,xs:12,children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)(z.a,{className:a.dTitle,children:Object(n.jsx)(p.a,{variant:"h3",component:"b",children:"Description"})}),Object(n.jsx)(p.a,{variant:"h5",component:"p",paragraph:!0,children:w.description}),Object(n.jsxs)(z.a,{className:a.dTitle,children:[Object(n.jsxs)(z.a,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[Object(n.jsx)(p.a,{variant:"h3",component:"b",children:"Time Table"}),"Mess Owner"===l&&t.name.replaceAll(" ","").toLowerCase()===i.service.replaceAll(" ","").toLowerCase()?Object(n.jsx)(W.b,{className:a.link,to:{pathname:"/mess/update",state:{mess:t,canteen:{}}},children:Object(n.jsx)(U.a,{className:a.editBtn,variant:"contained",children:"Edit"})}):null]}),b?Object(n.jsx)(J,{timetable:b}):Object(n.jsx)(q.a,{size:50})]})]})}),Object(n.jsxs)(d.a,{className:a.timeGrid,item:!0,md:5,sm:5,xs:12,children:[Object(n.jsx)(m.a,{className:a.paper,children:Object(n.jsxs)(m.a,{className:a.paper,elevation:4,children:[Object(n.jsxs)(z.a,{className:a.timeBox,children:[Object(n.jsx)(p.a,{className:a.item,variant:"body2",component:"i",children:"Opening Time"}),Object(n.jsx)(p.a,{className:a.item,variant:"body2",component:"i",children:"Closing Time"}),Object(n.jsx)(p.a,{className:a.item,variant:"body2",component:"i",children:"Rate"})]}),Object(n.jsxs)(z.a,{className:a.timeBox,children:[Object(n.jsx)(p.a,{className:a.item,variant:"body2",component:"i",children:t.openingTime}),Object(n.jsx)(p.a,{className:a.item,variant:"body2",component:"i",children:t.closingTime}),Object(n.jsx)(p.a,{className:a.item,variant:"body2",component:"i",children:t.pricePerMonth+" Per Month"})]})]})}),Object(n.jsx)(p.a,{className:a.item,variant:"h4",component:"b",children:"Reviews"}),Object(n.jsx)(z.a,{children:f?f.slice(0,2).map((function(e){return Object(n.jsx)(te,{post:e},"".concat(N++))})):Object(n.jsx)(q.a,{})}),Object(n.jsxs)(d.a,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(n.jsx)(W.b,{className:a.link,to:{pathname:"/mess/reviews",state:{reviews:f}},children:Object(n.jsx)(U.a,{variant:"outlined",style:{backgroundColor:"#FFF",padding:10},children:"More Reviews"})}),Object(n.jsx)(W.b,{className:a.link,to:{pathname:"/mess/addreview",state:{mess:t}},children:Object(n.jsx)(U.a,{variant:"outlined",style:{backgroundColor:"#FFF",padding:10},children:"Add Review"})})]})]})]})]})},me=a(257),pe=a(250),xe=a(89),Oe=a.n(xe),ve=a(252),ge=Object(o.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(5)},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},select:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",width:"100vw"},alert:{marginTop:e.spacing(2)}}}));function fe(){var e=ge(),t=Object(r.useState)(""),a=Object(C.a)(t,2),i=a[0],c=a[1],s=Object(r.useState)(""),o=Object(C.a)(s,2),u=o[0],h=o[1],b=F(),x=b.signin,O=b.currentUser,v=Object(M.g)(),g=Object(r.useState)(!1),f=Object(C.a)(g,2),y=f[0],w=f[1],N=Object(r.useState)(""),k=Object(C.a)(N,2),S=k[0],B=k[1],T=function(){var e=Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,x(i,u);case 4:v.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),"The email address is badly formatted."===e.t0.message?B("Enter email correctly"):"There is no user record corresponding to this identifier. The user may have been deleted."===e.t0.message?B("User not found! Make sure you typed correct email"):B("Password did not match! Please type the correct password");case 10:w(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();if(O)return Object(n.jsx)(M.a,{to:"/"});return Object(n.jsxs)(j.a,{className:e.container,component:"main",maxWidth:"xs",children:[Object(n.jsx)(l.a,{}),Object(n.jsxs)(m.a,{className:e.paper,children:[Object(n.jsx)(me.a,{className:e.avatar,children:Object(n.jsx)(Oe.a,{})}),Object(n.jsx)(p.a,{component:"h1",variant:"h5",children:"Sign in"}),S?Object(n.jsx)(ve.a,{className:e.alert,severity:"error",variant:"standard",fullWidth:!0,onClick:function(){return B("")},children:S}):null,Object(n.jsxs)(z.a,{className:e.form,children:[Object(n.jsx)(pe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:i,onChange:function(e){return c(e.target.value)}}),Object(n.jsx)(pe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:u,onChange:function(e){return h(e.target.value)}}),Object(n.jsx)(U.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:T,disabled:!!y,children:y?Object(n.jsx)(q.a,{}):"Sign In"}),Object(n.jsx)(d.a,{container:!0,children:Object(n.jsx)(d.a,{item:!0,children:Object(n.jsx)(W.b,{to:"/signup",children:"Don't have an account? Sign Up"})})})]})]})]})}var ye=a(254),we=a(239),Ce=a(240),Ne=a(236),ke=a(237),Se=Object(o.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3)},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},radioGrid:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},radioGrp:{display:"flex",flexDirection:"row"}}})),Be=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i),Te=/^[a-zA-Z ]{4,20}$/,Fe=/^[a-zA-Z ]{4,20}$/;function Ee(){var e=Se(),t=Object(r.useState)(""),a=Object(C.a)(t,2),i=a[0],c=a[1],s=Object(r.useState)(""),o=Object(C.a)(s,2),u=o[0],h=o[1],b=Object(r.useState)(""),x=Object(C.a)(b,2),O=x[0],v=x[1],g=Object(r.useState)(""),f=Object(C.a)(g,2),y=f[0],w=f[1],N=Object(r.useState)(""),k=Object(C.a)(N,2),S=k[0],B=k[1],T=Object(r.useState)(""),E=Object(C.a)(T,2),D=E[0],R=E[1],A=Object(r.useState)(""),G=Object(C.a)(A,2),I=G[0],P=G[1],L=Object(r.useState)(""),_=Object(C.a)(L,2),Z=_[0],H=(_[1],Object(r.useState)("Student")),$=Object(C.a)(H,2),V=$[0],Y=$[1],J=Object(r.useState)(""),K=Object(C.a)(J,2),X=K[0],Q=K[1],ee=Object(r.useState)(!1),te=Object(C.a)(ee,2),ae=te[0],ie=te[1],se=F(),oe=se.signup,le=se.currentUser,de=Object(M.g)(),je=function(e,t){if(!e.test(t)){if(e===Te)return B("Name should be charecters only and length 4 to 20"),!1;if(e===Be)return P("Email must be valid email address"),!1;if(e===Fe)return R("Name should be charecters only and length 4 to 20"),!1}return B(""),R(""),P(""),!0},ue=function(){var e=Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(!0),e.prev=1,e.next=4,oe(i,u);case 4:de.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:return e.prev=10,e.next=13,ce.post("/signup",{fName:O,lName:y,email:i,password:u,type:V,service:X});case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(10),console.log(e.t1);case 18:ie(!1);case 19:case"end":return e.stop()}}),e,null,[[1,7],[10,15]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)(z.a,{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",width:"100vw"},children:Object(n.jsxs)(j.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(l.a,{}),le?Object(n.jsx)(ve.a,{severity:"warning",children:"You are already logged in!"}):Object(n.jsxs)(m.a,{className:e.paper,children:[Object(n.jsx)(me.a,{className:e.avatar,children:Object(n.jsx)(Oe.a,{})}),Object(n.jsx)(p.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(n.jsxs)(z.a,{className:e.form,children:[Object(n.jsxs)(d.a,{container:!0,spacing:2,children:[Object(n.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(pe.a,{value:O,onChange:function(e){var t=e.target;v(t.value),je(Te,t.value)},autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,error:!!S,helperText:S?"".concat(S):null})}),Object(n.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(pe.a,{value:y,onChange:function(e){var t=e.target;w(t.value),je(Fe,t.value)},variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",error:!!D,helperText:D?"".concat(D):null})}),Object(n.jsx)(d.a,{item:!0,xs:12,children:Object(n.jsx)(pe.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:i,onChange:function(e){var t=e.target;c(t.value),je(Be,t.value)},error:!!I,helperText:I?"".concat(I):null})}),Object(n.jsx)(d.a,{item:!0,xs:12,children:Object(n.jsx)(pe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:u,onChange:function(e){var t=e.target;return h(t.value)},error:!!Z,helperText:Z?"".concat(Z):null})}),Object(n.jsx)(d.a,{className:e.radioGrid,item:!0,xs:12,children:Object(n.jsxs)(Ne.a,{component:"fieldset",children:[Object(n.jsx)(ke.a,{component:"legend",children:"User Type"}),Object(n.jsxs)(we.a,{className:e.radioGrp,"aria-label":"User Type",name:"User Type1",value:V,onChange:function(e){var t=e.target;return Y(t.value)},children:[Object(n.jsx)(Ce.a,{value:"Student",control:Object(n.jsx)(ye.a,{}),label:"Student"}),Object(n.jsx)(Ce.a,{value:"Mess Owner",control:Object(n.jsx)(ye.a,{}),label:"Mess Owner"}),Object(n.jsx)(Ce.a,{value:"Canteen Owner",control:Object(n.jsx)(ye.a,{}),label:"Canteen Owner"})]})]})}),"Student"!==V?Object(n.jsx)(d.a,{item:!0,xs:12,children:Object(n.jsx)(pe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"Service",label:"Service",type:"Service",id:"Service",autoComplete:!0,value:X,onChange:function(e){var t=e.target;return Q(t.value)},error:!!Z})}):null]}),Object(n.jsx)(U.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:ue,disabled:!!ae,children:ae?Object(n.jsx)(q.a,{}):"Sign Up"}),Object(n.jsx)(d.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(d.a,{item:!0,children:Object(n.jsx)(W.b,{to:"/signin",children:"Already have an account? Sign in"})})})]})]})]})})}var De=a(126);function Re(e){var t=e.component,a=Object(De.a)(e,["component"]),r=F().currentUser;return Object(n.jsx)(M.b,Object(P.a)(Object(P.a)({},a),{},{render:function(e){return r?Object(n.jsx)(t,Object(P.a)({},a)):Object(n.jsx)(M.a,{to:"/signin"})}}))}var Ae=a(246),Ge=a(238),Ie=a(244),We=a(245),Me=a(255),Pe=a(243),ze=a(242),Ue=a(241),qe=i.a.forwardRef((function(e,t){return Object(n.jsx)(Ue.a,Object(P.a)({direction:"up",ref:t},e))})),Le=Object(o.a)({link:{textDecoration:"none",color:"primary"}});function _e(e){var t=e.mess,a=e.canteen,r=e.visible,c=i.a.useState(!0),s=Object(C.a)(c,2),o=s[0],l=s[1],d=Le();return Object(n.jsx)("div",{children:Object(n.jsxs)(Me.a,{open:o,TransitionComponent:qe,keepMounted:!0,onClose:function(){l(!1),r(!o)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(n.jsx)(ze.a,{id:"alert-dialog-slide-title",children:t?"Choose a Mess":"Choose a canteen"}),Object(n.jsx)(Pe.a,{children:Object(n.jsx)(Ge.a,{className:d.list,children:t?t.map((function(e){return Object(n.jsx)(W.b,{className:d.link,to:{pathname:"/mess",state:{item:e}},children:Object(n.jsx)(Ie.a,{button:!0,children:Object(n.jsx)(We.a,{primary:"".concat(e.name)})},e.name)})})):a.map((function(e){return Object(n.jsx)(W.b,{className:d.link,to:{pathname:"/canteen",state:{item:e}},children:Object(n.jsx)(Ie.a,{button:!0,children:Object(n.jsx)(We.a,{primary:"".concat(e.name)})},e.name)})}))})})]})})}var Ze=a(93),He=Object(o.a)({avatar:{backgroundColor:Ze.a[100],color:Ze.a[600]},contactBox:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly",marginLeft:30,marginRight:30,marginTop:20,marginBottom:20},mainBox:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-evenly"},paper:{padding:20}});function $e(e){var t=He(),a=e.onClose,r=e.selectedValue,i=e.open;return Object(n.jsxs)(Me.a,{onClose:function(){a(r)},"aria-labelledby":"simple-dialog-title",open:i,children:[Object(n.jsx)(ze.a,{id:"simple-dialog-title",children:"Contact Us"}),Object(n.jsxs)(z.a,{className:t.mainBox,children:[Object(n.jsx)(z.a,{className:t.contactBox,children:"Email:"}),Object(n.jsx)(z.a,{className:t.contactBox,children:Object(n.jsx)(m.a,{className:t.paper,elevation:3,children:"test@test.com"})})]}),Object(n.jsxs)(z.a,{className:t.mainBox,children:[Object(n.jsx)(z.a,{className:t.contactBox,children:"LinkedIn:"}),Object(n.jsx)(z.a,{className:t.contactBox,children:Object(n.jsx)(m.a,{className:t.paper,elevation:3,children:"test@test.com"})})]})]})}function Ve(e){var t=e.visible,a=i.a.useState(!0),r=Object(C.a)(a,2),c=r[0],s=r[1];return Object(n.jsx)("div",{children:Object(n.jsx)($e,{open:c,onClose:function(e){s(!1),t(!c)}})})}var Ye=Object(o.a)((function(e){return{toolbar:{borderBottom:"1px solid ".concat(e.palette.divider),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},toolbarSecondary:{justifyContent:"space-between",overflowX:"auto"},toolbarLink:{padding:e.spacing(1),flexShrink:0},list:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center",justifyContent:"center"},item:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},link:{color:"#000",textDecoration:"none"}}}));function Je(e){var t=Ye(),a=e.title,c=i.a.useState(!1),s=Object(C.a)(c,2),o=s[0],l=s[1],u=i.a.useState(!1),h=Object(C.a)(u,2),b=h[0],x=h[1],O=Object(r.useState)(!1),v=Object(C.a)(O,2),g=v[0],f=v[1],y=F().signout,w=Object(M.g)(),N=je(),k=N.mess,S=N.canteen,B=function(){var e=Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y();case 3:w.push("/signup"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(m.a,{elevation:3,children:[Object(n.jsxs)(Ae.a,{className:t.toolbar,children:[Object(n.jsx)(W.b,{className:t.link,to:"/",children:Object(n.jsx)(p.a,{component:"h2",variant:"h5",color:"inherit",align:"center",noWrap:!0,className:t.toolbarTitle,children:a})}),Object(n.jsx)(U.a,{onClick:B,variant:"outlined",size:"small",children:"Sign out"})]}),Object(n.jsx)(Ae.a,{component:"nav",variant:"dense",className:t.toolbarSecondary,children:Object(n.jsx)(d.a,{container:!0,children:Object(n.jsx)(j.a,{children:Object(n.jsxs)(Ge.a,{className:t.list,component:"nav","aria-label":"main mailbox folders",children:[Object(n.jsx)(Ie.a,{className:t.item,onClick:function(){return l(!o)},button:!0,children:Object(n.jsx)(We.a,{primary:"Mess"})}),o?Object(n.jsx)(_e,{mess:k,canteen:null,visible:function(e){return l(e)}}):null,Object(n.jsx)(Ie.a,{className:t.item,onClick:function(){return x(!b)},button:!0,children:Object(n.jsx)(We.a,{primary:"Canteen"})}),b?Object(n.jsx)(_e,{mess:null,canteen:S,visible:function(e){return x(e)}}):null,Object(n.jsx)(Ie.a,{className:t.item,button:!0,children:Object(n.jsx)(W.b,{style:{color:"#000",textDecoration:"none"},to:"/grievance",children:Object(n.jsx)(We.a,{primary:"Grievances"})})}),Object(n.jsx)(Ie.a,{className:t.item,onClick:function(){return f(!g)},button:!0,children:Object(n.jsx)(We.a,{primary:"Contact Us"})}),g?Object(n.jsx)(Ve,{visible:function(e){return f(e)}}):null]})})})})]})}var Ke=a(247),Xe=Object(o.a)((function(e){var t;return{card:(t={display:"flex",width:500,marginBottom:10,margin:"auto",minWidth:"70%",flexDirection:"column"},Object(b.a)(t,"margin","auto"),Object(b.a)(t,e.breakpoints.down("sm"),{width:"80vw"}),t),cardMedia:{height:"100%",width:"100%",flex:1},imageBtn:{color:"black",padding:e.spacing(1),backgroundColor:"#FFF",margin:e.spacing(1)},link:{color:"black",textDecoration:"none"}}}));function Qe(e){var t=e.post,a=Xe();return Object(n.jsx)(d.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(K.a,{elevation:5,justify:"center",className:a.card,children:Object(n.jsxs)("div",{className:a.cardDetails,children:[Object(n.jsxs)(X.a,{children:[Object(n.jsx)(p.a,{component:"h2",variant:"h5",children:t.title}),Object(n.jsx)(p.a,{variant:"subtitle1",color:"textSecondary",children:t.name}),Object(n.jsx)(p.a,{variant:"subtitle1",paragraph:!0,children:t.body})]}),Object(n.jsx)(Ke.a,{children:t.url?Object(n.jsx)("a",{target:"_blank",href:t.url,className:a.link,children:Object(n.jsx)(U.a,{variant:"contained",className:a.imageBtn,children:"View Image of Grievance"})}):null})]})})})}var et=a(185),tt=a(65),at=a.n(tt),nt=Object(o.a)((function(e){var t;return{container:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:10,maxHeight:"100vh"},iButton:(t={backgroundColor:"#00f",color:"#FFF",position:"fixed",bottom:"1%",right:"20%"},Object(b.a)(t,e.breakpoints.down("sm"),{bottom:10,right:10}),Object(b.a)(t,"elevation",5),t)}})),rt=function(){var e=je().grievance,t=nt();return e?e.map((function(e){return Object(n.jsxs)(j.a,{className:t.container,children:[Object(n.jsx)(Qe,{post:e}),Object(n.jsx)(W.b,{to:"/grievance/addgrievance",children:Object(n.jsx)(et.a,{className:t.iButton,size:"medium",children:Object(n.jsx)(at.a,{})})})]})})):Object(n.jsx)(j.a,{className:t.container,children:Object(n.jsx)(q.a,{size:30})})},it=a(66),ct=a(67),st=a(70),ot=a(69),lt=a(186),dt=a(68),jt=a.n(dt),ut=a(248),ht={outerGrid:{height:"100vh"},middleGrid:{alignItems:"center",display:"flex",flexWrap:"nowrap",justifyContent:"center",flexDirection:"column"},mainPaper:{padding:20,alignItems:"center",justifyContent:"center",borderBottomLeftRadius:20,borderBottomRightRadius:20,border:"2px solid"},formGroup:{width:"100%",paddingLeft:20,paddingRight:20},label:{marginTop:10},input:{width:300},buttonBox:{alignItems:"center",justifyContent:"space-evenly",display:"flex",marginTop:20},switchBox:{display:"flex",flexDirection:"row"},switch:{color:"#304FFE"},submitButton:{backgroundColor:"#304FFE",color:"white",padding:10},resetButton:{backgroundColor:"#FFF",color:"#304FFE",padding:10}},bt=/^[a-zA-Z ]{4,20}$/,mt=/^[a-zA-Z0-9 ]{10,100}$/,pt=function(e){Object(st.a)(a,e);var t=Object(ot.a)(a);function a(){var e;Object(it.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={authorName:"",reviewTitle:"",reviewBody:"",rating:0,switch:!1,nameError:"",reviewTitleError:"",id:"0"},e}return Object(ct.a)(a,[{key:"onReset",value:function(){this.setState({authorName:"",reviewTitle:"",reviewBody:"",rating:0,switch:!1,nameError:"",reviewTitleError:""})}},{key:"validateData",value:function(e,t){if(!e.test(t)){if(e===bt)return this.setState({nameError:"Name must contain letters only and length should be between 4 to 20 charecters"}),!1;if(e===mt)return this.setState({reviewTitleError:"Review title must contain letters and numbers length should be between 10 to 100 charecters"}),!1}return this.setState({nameError:"",reviewTitleError:""}),!0}},{key:"onSubmit",value:function(){var e=Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.post("/addreview",{name:this.state.authorName,title:this.state.reviewTitle,body:this.state.reviewBody,rating:this.state.rating,id:this.props.location.state.mess._id});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){this.state.switch?this.setState({switch:!this.state.switch,authorName:""}):this.setState({switch:!this.state.switch,authorName:"anonymous"})}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(d.a,{style:ht.outerGrid,container:!0,children:[Object(n.jsx)(d.a,{item:!0,container:!0,md:1,sm:1,xs:1}),Object(n.jsx)(d.a,{item:!0,container:!0,md:10,sm:10,xs:10,style:ht.middleGrid,children:Object(n.jsxs)(m.a,{style:ht.mainPaper,elevation:10,children:[Object(n.jsxs)(p.a,{align:"center",gutterBottom:!0,noWrap:!0,variant:"h4",children:[Object(n.jsx)(jt.a,{})," Add your review"]}),Object(n.jsx)(v.a,{}),Object(n.jsx)("form",{children:Object(n.jsxs)(lt.a,{style:ht.formGroup,children:[Object(n.jsxs)(z.a,{style:ht.switchBox,children:[Object(n.jsx)(p.a,{gutterBottom:!0,variant:"h5",component:"h5",children:"Make me anonymous"}),Object(n.jsx)(ut.a,{checked:this.state.switch,onChange:function(){return e.handleChange()},color:"primary",style:ht.switch})]}),this.state.switch?null:Object(n.jsxs)(z.a,{children:[Object(n.jsx)(p.a,{style:ht.label,variant:"h5",component:"h5",children:"Author's Full Name"}),Object(n.jsx)(pe.a,{label:"Author's Name",required:!0,error:!!this.state.nameError,helperText:this.state.nameError?"".concat(this.state.nameError):null,value:this.state.authorName,placeholder:"Enter Author's Name",type:"name",variant:"outlined",style:ht.input,margin:"normal",onChange:function(t){e.setState({authorName:t.target.value}),e.validateData(bt,t.target.value)}})]}),Object(n.jsx)(p.a,{style:ht.label,variant:"h5",component:"h5",children:"Review Title"}),Object(n.jsx)(pe.a,{label:"Review Title",required:!0,error:!!this.state.reviewTitleError,helperText:this.state.reviewTitleError?"".concat(this.state.reviewTitleError):null,value:this.state.reviewTitle,type:"title",placeholder:"Enter Review Title",variant:"outlined",style:ht.input,margin:"normal",onChange:function(t){e.setState({reviewTitle:t.target.value}),e.validateData(mt,e.state.reviewTitle)}}),Object(n.jsx)(p.a,{style:ht.label,variant:"h5",component:"h5",children:"Review Body"}),Object(n.jsx)(pe.a,{value:this.state.reviewBody,type:"name",label:"Review Body",variant:"outlined",style:ht.input,margin:"normal",multiline:!0,placeholder:"Enter Review Here",onChange:function(t){e.setState({reviewBody:t.target.value})}}),Object(n.jsx)(p.a,{style:ht.label,variant:"h5",component:"h5",children:"Rate your experience"}),Object(n.jsx)(Q.a,{name:"simple-controlled",value:this.state.rating,onChange:function(t,a){e.setState({rating:a})}}),Object(n.jsxs)(z.a,{style:ht.buttonBox,children:[Object(n.jsx)(U.a,{onClick:function(){return e.onReset()},type:"reset",variant:"contained",style:ht.resetButton,children:"Reset"}),Object(n.jsx)(U.a,{onClick:function(){return e.onSubmit()},type:"reset",variant:"contained",style:ht.submitButton,children:"Submit Review"})]})]})})]})}),Object(n.jsx)(d.a,{item:!0,container:!0,md:1,sm:1,xs:1})]})}}]),a}(r.Component),xt={outerGrid:{height:"100vh"},middleGrid:{alignItems:"center",display:"flex",flexWrap:"nowrap",justifyContent:"center",flexDirection:"column"},mainPaper:{padding:20,alignItems:"center",justifyContent:"center",borderBottomLeftRadius:20,borderBottomRightRadius:20,border:"2px solid"},formGroup:{width:"100%",paddingLeft:20,paddingRight:20},label:{marginTop:10},input:{width:300},buttonBox:{alignItems:"center",justifyContent:"space-evenly",display:"flex",marginTop:20},switchBox:{display:"flex",flexDirection:"row"},switch:{color:"#304FFE"},submitButton:{backgroundColor:"#304FFE",color:"white",padding:10},resetButton:{backgroundColor:"#FFF",color:"#304FFE",padding:10}},Ot=/^[a-zA-Z ]{4,20}$/,vt=/^[a-zA-Z0-9 ]{10,100}$/,gt=function(e){Object(st.a)(a,e);var t=Object(ot.a)(a);function a(){var e;Object(it.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={authorName:"",reviewTitle:"",reviewBody:"",rating:0,switch:!1,nameError:"",reviewTitleError:"",id:"0"},e}return Object(ct.a)(a,[{key:"onReset",value:function(){this.setState({authorName:"",reviewTitle:"",reviewBody:"",rating:0,switch:!1,nameError:"",reviewTitleError:""})}},{key:"validateData",value:function(e,t){if(!e.test(t)){if(e===Ot)return this.setState({nameError:"Name must contain letters only and length should be between 4 to 20 charecters"}),!1;if(e===vt)return this.setState({reviewTitleError:"Review title must contain letters and numbers length should be between 10 to 100 charecters"}),!1}return this.setState({nameError:"",reviewTitleError:""}),!0}},{key:"onSubmit",value:function(){var e=Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.post("/addreviewcanteen",{name:this.state.authorName,title:this.state.reviewTitle,body:this.state.reviewBody,rating:this.state.rating,id:this.props.location.state.canteen._id});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){this.state.switch?this.setState({switch:!this.state.switch,authorName:""}):this.setState({switch:!this.state.switch,authorName:"anonymous"})}},{key:"render",value:function(){var e=this;return console.log(this.state.success),Object(n.jsxs)(d.a,{style:xt.outerGrid,container:!0,children:[Object(n.jsx)(d.a,{item:!0,container:!0,md:1,sm:1,xs:1}),Object(n.jsx)(d.a,{item:!0,container:!0,md:10,sm:10,xs:10,style:xt.middleGrid,children:Object(n.jsxs)(m.a,{style:xt.mainPaper,elevation:10,children:[Object(n.jsxs)(p.a,{align:"center",gutterBottom:!0,noWrap:!0,variant:"h4",children:[Object(n.jsx)(jt.a,{})," Add your review"]}),Object(n.jsx)(v.a,{}),Object(n.jsx)("form",{children:Object(n.jsxs)(lt.a,{style:xt.formGroup,children:[Object(n.jsxs)(z.a,{style:xt.switchBox,children:[Object(n.jsx)(p.a,{gutterBottom:!0,variant:"h5",component:"h5",children:"Make me anonymous"}),Object(n.jsx)(ut.a,{checked:this.state.switch,onChange:function(){return e.handleChange()},color:"primary",style:xt.switch})]}),this.state.switch?null:Object(n.jsxs)(z.a,{children:[Object(n.jsx)(p.a,{style:xt.label,variant:"h5",component:"h5",children:"Author's Full Name"}),Object(n.jsx)(pe.a,{label:"Author's Name",required:!0,error:!!this.state.nameError,helperText:this.state.nameError?"".concat(this.state.nameError):null,value:this.state.authorName,placeholder:"Enter Author's Name",type:"name",variant:"outlined",style:xt.input,margin:"normal",onChange:function(t){e.setState({authorName:t.target.value}),e.validateData(Ot,t.target.value)}})]}),Object(n.jsx)(p.a,{style:xt.label,variant:"h5",component:"h5",children:"Review Title"}),Object(n.jsx)(pe.a,{label:"Review Title",required:!0,error:!!this.state.reviewTitleError,helperText:this.state.reviewTitleError?"".concat(this.state.reviewTitleError):null,value:this.state.reviewTitle,type:"title",placeholder:"Enter Review Title",variant:"outlined",style:xt.input,margin:"normal",onChange:function(t){e.setState({reviewTitle:t.target.value}),e.validateData(vt,e.state.reviewTitle)}}),Object(n.jsx)(p.a,{style:xt.label,variant:"h5",component:"h5",children:"Review Body"}),Object(n.jsx)(pe.a,{value:this.state.reviewBody,type:"name",label:"Review Body",variant:"outlined",style:xt.input,margin:"normal",multiline:!0,placeholder:"Enter Review Here",onChange:function(t){e.setState({reviewBody:t.target.value})}}),Object(n.jsx)(p.a,{style:xt.label,variant:"h5",component:"h5",children:"Rate your experience"}),Object(n.jsx)(Q.a,{name:"simple-controlled",value:this.state.rating,onChange:function(t,a){e.setState({rating:a})}}),Object(n.jsxs)(z.a,{style:xt.buttonBox,children:[Object(n.jsx)(U.a,{onClick:function(){return e.onReset()},type:"reset",variant:"contained",style:xt.resetButton,children:"Reset"}),Object(n.jsx)(U.a,{onClick:function(){return e.onSubmit()},type:"reset",variant:"contained",style:xt.submitButton,children:"Submit Review"})]})]})})]})}),Object(n.jsx)(d.a,{item:!0,container:!0,md:1,sm:1,xs:1})]})}}]),a}(r.Component),ft=Object(o.a)((function(e){var t;return{root:(t={width:"60%",minWidth:275},Object(b.a)(t,e.breakpoints.down("sm"),{width:"100%"}),Object(b.a)(t,"marginBottom",e.spacing(1)),t),bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},pos:{display:"flex",flexDirection:"row",alignItems:"center"},container:{display:"flex",flexDirection:"column",alignItems:"center"}}})),yt=function(e){var t=e.review,a=ft();return Object(n.jsx)(K.a,{elevation:5,className:a.root,children:Object(n.jsxs)(X.a,{children:[Object(n.jsx)(p.a,{className:a.title,color:"textSecondary",gutterBottom:!0,component:"h4",variant:"h4",children:t.reviewTitle}),Object(n.jsx)(p.a,{variant:"h5",component:"h5",children:"Authour: "+t.authourName}),Object(n.jsx)(p.a,{className:a.pos,color:"textSecondary",component:"h6",variant:"h6",children:t.reviewBody}),Object(n.jsxs)(z.a,{className:a.pos,children:[Object(n.jsx)(p.a,{className:a.pos,color:"textSecondary",component:"h6",variant:"h6",children:"Rating out of 5=>"}),Object(n.jsx)(Q.a,{readOnly:!0,value:t.rating})]})]})})},wt=Object(o.a)((function(e){return{container:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:10,maxHeight:"100vh"},iButton:Object(b.a)({backgroundColor:"#00f",color:"#FFF",position:"fixed",bottom:"1%",right:"20%"},e.breakpoints.down("sm"),{bottom:10,right:10})}})),Ct=function(e){var t=wt();return e.location.state.reviews.map((function(e){return Object(n.jsxs)(j.a,{className:t.container,children:[Object(n.jsx)(yt,{review:e}),Object(n.jsx)(W.b,{to:"/mess/addreview",children:Object(n.jsx)(et.a,{className:t.iButton,size:"medium",children:Object(n.jsx)(at.a,{})})})]})}))},Nt={outerGrid:{height:"100vh"},middleGrid:{alignItems:"center",display:"flex",flexWrap:"nowrap",justifyContent:"center",flexDirection:"column"},mainPaper:{padding:20,alignItems:"center",justifyContent:"center",borderBottomLeftRadius:20,borderBottomRightRadius:20,border:"2px solid"},formGroup:{width:"100%",paddingLeft:20,paddingRight:20},label:{marginTop:10},input:{width:300},buttonBox:{alignItems:"center",justifyContent:"space-evenly",display:"flex",marginTop:20},switchBox:{display:"flex",flexDirection:"row"},switch:{color:"#304FFE"},submitButton:{backgroundColor:"#304FFE",color:"white",padding:10},resetButton:{backgroundColor:"#FFF",color:"#304FFE",padding:10}},kt=/^[a-zA-Z ]{4,20}$/,St=/^[a-zA-Z0-9 ]{10,100}$/,Bt=function(e){Object(st.a)(a,e);var t=Object(ot.a)(a);function a(){var e;Object(it.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={authorName:"",reviewTitle:"",reviewBody:"",switch:!1,nameError:"",reviewTitleError:"",image:"",url:""},e}return Object(ct.a)(a,[{key:"onReset",value:function(){this.setState({authorName:"",reviewTitle:"",reviewBody:"",rating:0,switch:!1,nameError:"",reviewTitleError:""})}},{key:"validateData",value:function(e,t){if(!e.test(t)){if(e===kt)return this.setState({nameError:"Name must contain letters only and length should be between 4 to 20 charecters"}),!1;if(e===St)return this.setState({reviewTitleError:"Review title must contain letters and numbers length should be between 10 to 100 charecters"}),!1}return this.setState({nameError:"",reviewTitleError:""}),!0}},{key:"onSubmit",value:function(){var e=Object(re.a)(ne.a.mark((function e(){var t=this;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===this.state.image){e.next=13;break}return e.prev=1,e.next=4,B.ref("/images/".concat(this.state.image.name)).put(this.state.image);case 4:e.sent.task.on("state_changed",(function(e){}),(function(e){return console.log(e)}),(function(){B.ref("images").child(t.state.image.name).getDownloadURL().then((function(e){t.setState({url:e}),console.log(e)})).then(Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.post("/addgrievance",{title:t.state.reviewTitle,name:t.state.authorName,body:t.state.reviewBody,url:t.state.url});case 2:case"end":return e.stop()}}),e)})))).catch((function(e){return console.log(e)}))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:e.next=15;break;case 13:return e.next=15,ce.post("/addgrievance",{title:this.state.reviewTitle,name:this.state.authorName,body:this.state.reviewBody,url:""});case 15:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){this.state.switch?this.setState({switch:!this.state.switch,authorName:""}):this.setState({switch:!this.state.switch,authorName:"anonymous"})}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(d.a,{style:Nt.outerGrid,container:!0,children:[Object(n.jsx)(d.a,{item:!0,container:!0,md:1,sm:1,xs:1}),Object(n.jsx)(d.a,{item:!0,container:!0,md:10,sm:10,xs:10,style:Nt.middleGrid,children:Object(n.jsxs)(m.a,{style:Nt.mainPaper,elevation:4,children:[Object(n.jsxs)(p.a,{align:"center",gutterBottom:!0,noWrap:!0,variant:"h4",children:[Object(n.jsx)(jt.a,{})," Add your Grievance"]}),Object(n.jsx)(v.a,{}),Object(n.jsx)("form",{children:Object(n.jsxs)(lt.a,{style:Nt.formGroup,children:[Object(n.jsxs)(z.a,{style:Nt.switchBox,children:[Object(n.jsx)(p.a,{gutterBottom:!0,variant:"h5",component:"h5",children:"Make me anonymous"}),Object(n.jsx)(ut.a,{checked:this.state.switch,onChange:function(){return e.handleChange()},color:"primary",style:Nt.switch})]}),this.state.switch?null:Object(n.jsxs)(z.a,{children:[Object(n.jsx)(p.a,{style:Nt.label,variant:"h5",component:"h5",children:"Author's Full Name"}),Object(n.jsx)(pe.a,{label:"Author's Name",required:!0,error:!!this.state.nameError,helperText:this.state.nameError?"".concat(this.state.nameError):null,value:this.state.authorName,placeholder:"Enter Author's Name",type:"name",variant:"outlined",style:Nt.input,margin:"normal",onChange:function(t){e.setState({authorName:t.target.value}),e.validateData(kt,t.target.value)}})]}),Object(n.jsx)(p.a,{style:Nt.label,variant:"h5",component:"h5",children:"Title"}),Object(n.jsx)(pe.a,{label:"Grievance Title",required:!0,error:!!this.state.reviewTitleError,helperText:this.state.reviewTitleError?"".concat(this.state.reviewTitleError):null,value:this.state.reviewTitle,type:"title",placeholder:"Enter Title",variant:"outlined",style:Nt.input,margin:"normal",onChange:function(t){e.setState({reviewTitle:t.target.value}),e.validateData(St,e.state.reviewTitle)}}),Object(n.jsx)(p.a,{style:Nt.label,variant:"h5",component:"h5",children:"Body"}),Object(n.jsx)(pe.a,{value:this.state.reviewBody,type:"name",label:"Grievance Body",variant:"outlined",style:Nt.input,margin:"normal",multiline:!0,placeholder:"Enter grievance Here",onChange:function(t){e.setState({reviewBody:t.target.value})}}),Object(n.jsx)(p.a,{gutterBottom:!0,variant:"h6",component:"h6",children:"Submit images if any..."}),Object(n.jsx)("input",{type:"file",onChange:function(t){var a=t.target;return e.setState({image:a.files[0]})}}),Object(n.jsxs)(z.a,{style:Nt.buttonBox,children:[Object(n.jsx)(U.a,{onClick:function(){return e.onReset()},type:"reset",variant:"contained",style:Nt.resetButton,children:"Reset"}),Object(n.jsx)(U.a,{onClick:function(){return e.onSubmit()},type:"reset",variant:"contained",style:Nt.submitButton,children:"Submit"})]})]})})]})}),Object(n.jsx)(d.a,{item:!0,container:!0,md:1,sm:1,xs:1})]})}}]),a}(r.Component);function Tt(){return Object(n.jsxs)(p.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(f.a,{color:"inherit",href:"https://github.com/AdityaZade/MiniProject/",children:"Source Code"})," ",(new Date).getFullYear(),"."]})}var Ft=Object(o.a)((function(e){return{footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6,0)}}}));function Et(e){var t=Ft(),a=e.description,r=e.title;return Object(n.jsx)("footer",{className:t.footer,children:Object(n.jsxs)(j.a,{maxWidth:"lg",children:[Object(n.jsx)(p.a,{variant:"h6",align:"center",gutterBottom:!0,children:r}),Object(n.jsx)(p.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p",children:a}),Object(n.jsx)(Tt,{})]})})}var Dt=Object(o.a)({table:{minWidth:"100%",maxWidth:650},heading:{fontWeight:"bolder",color:"#FFF"}});function Rt(e){var t=e.menu,a=Dt(),r=1,i=1;return Object(n.jsx)(H.a,{component:m.a,children:Object(n.jsxs)(L.a,{className:a.table,"aria-label":"simple table",children:[Object(n.jsx)($.a,{style:{backgroundColor:"#000"},children:Object(n.jsxs)(V.a,{children:[Object(n.jsx)(Z.a,{className:a.heading,children:"Sr.No"}),Object(n.jsx)(Z.a,{className:a.heading,align:"center",children:"Dish Name"}),Object(n.jsx)(Z.a,{className:a.heading,align:"center",children:"Price"})]})}),Object(n.jsx)(_.a,{children:t.map((function(e){return Object(n.jsxs)(V.a,{style:{backgroundColor:r++%2===0?"#eee":"#fff"},children:[Object(n.jsx)(Z.a,{component:"th",scope:"row",children:i++}),Object(n.jsx)(Z.a,{align:"center",children:e.dish}),Object(n.jsx)(Z.a,{align:"center",children:e.price})]},e._id)}))})]})})}var At=Object(o.a)({item:{margin:10},mainGrid:{backgroundColor:"#eee",alignItems:"center",justifyContent:"center"},pictureBox:{width:"100%"},contentGrid:{display:"flex",flexDirection:"column"},dTitle:{marginBottom:20},timeGrid:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},paper:{display:"flex",flexDirection:"row",padding:20,borderRadius:10},timeBox:{display:"flex",flexDirection:"column"},link:{textDecoration:"none",color:"black"},editBtn:{padding:"1%",width:100,color:"#000",backgroundColor:"#FFF"}}),Gt=function(e){var t=e.location.state.item,a=At(),i=oe().user,c=je(),s=c.canteen,o=c.updateComponent,l="Student",u=Object(r.useState)(),h=Object(C.a)(u,2),b=h[0],x=h[1],v=Object(r.useState)(),g=Object(C.a)(v,2),f=g[0],y=g[1];i&&(l=i.type.toString());var w={image:"https://wallup.net/wp-content/uploads/2017/03/29/490310-Fries-tomatoes-food.jpg",imageText:"Mess name can be very lo",title:"".concat(t.name),description:"".concat(t.information)};return Object(r.useEffect)((function(){if(o(),s){var e=s.find((function(e){return e._id===t._id}));x(e.menu),y(e.reviews)}}),[s]),Object(n.jsxs)(d.a,{className:a.mainGrid,container:!0,children:[Object(n.jsx)(z.a,{className:a.pictureBox,children:Object(n.jsx)(O,{post:Object(P.a)(Object(P.a)({},w),{},{description:""})})}),Object(n.jsxs)(d.a,{item:!0,container:!0,sm:12,md:12,xs:12,children:[Object(n.jsx)(d.a,{className:a.contentGrid,item:!0,md:7,sm:7,xs:12,children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)(z.a,{className:a.dTitle,children:Object(n.jsx)(p.a,{variant:"h3",component:"b",children:"Description"})}),Object(n.jsx)(p.a,{variant:"h5",component:"p",paragraph:!0,children:w.description}),Object(n.jsxs)(z.a,{className:a.dTitle,children:[Object(n.jsxs)(z.a,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[Object(n.jsx)(p.a,{variant:"h3",component:"b",children:"Menu"}),"Canteen Owner"===l&&t.name.replaceAll(" ","").toLowerCase()===i.service.replaceAll(" ","").toLowerCase()?Object(n.jsx)(W.b,{className:a.link,to:{pathname:"/canteen/update",state:{canteen:t}},children:Object(n.jsx)(U.a,{className:a.editBtn,variant:"contained",children:"Edit"})}):null]}),b?Object(n.jsx)(Rt,{menu:b}):Object(n.jsx)(q.a,{size:50})]})]})}),Object(n.jsxs)(d.a,{className:a.timeGrid,item:!0,md:5,sm:5,xs:12,children:[Object(n.jsx)(m.a,{className:a.paper,children:Object(n.jsxs)(m.a,{className:a.paper,elevation:4,children:[Object(n.jsxs)(z.a,{className:a.timeBox,children:[Object(n.jsx)(p.a,{className:a.item,variant:"body2",component:"i",children:"Opening Time"}),Object(n.jsx)(p.a,{className:a.item,variant:"body2",component:"i",children:"Closing Time"}),Object(n.jsx)(p.a,{className:a.item,variant:"body2",component:"i",children:"Rate"})]}),Object(n.jsxs)(z.a,{className:a.timeBox,children:[Object(n.jsx)(p.a,{className:a.item,variant:"body2",component:"i",children:t.openingTime}),Object(n.jsx)(p.a,{className:a.item,variant:"body2",component:"i",children:t.closingTime})]})]})}),Object(n.jsx)(p.a,{className:a.item,variant:"h4",component:"b",children:"Reviews"}),Object(n.jsx)(z.a,{children:f?f.slice(0,2).map((function(e){return Object(n.jsx)(te,{post:e},e.title)})):Object(n.jsx)(q.a,{})}),Object(n.jsxs)(d.a,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(n.jsx)(W.b,{className:a.link,to:{pathname:"/canteen/reviews",state:{reviews:f}},children:Object(n.jsx)(U.a,{variant:"outlined",style:{backgroundColor:"#FFF",padding:10},children:"More Reviews"})}),Object(n.jsx)(W.b,{className:a.link,to:{pathname:"/canteen/addreview",state:{canteen:t}},children:Object(n.jsx)(U.a,{variant:"outlined",style:{backgroundColor:"#FFF",padding:10},children:"Add Review"})})]})]})]})]})},It=a(249),Wt=function(e){var t=i.a.useState("Mess Owner"),a=Object(C.a)(t,2),c=(a[0],a[1],Object(r.useState)("")),s=Object(C.a)(c,2),o=s[0],l=s[1],d=Object(r.useState)(""),j=Object(C.a)(d,2),u=j[0],h=j[1],b=Object(r.useState)(""),x=Object(C.a)(b,2),O=x[0],v=x[1],g=Object(r.useState)(""),f=Object(C.a)(g,2),y=f[0],w=f[1],N=e.location.state.mess,k=je().updateComponent,S=Object(r.useState)(!1),B=Object(C.a)(S,2),T=B[0],F=B[1],E=Object(r.useState)(!1),D=Object(C.a)(E,2),R=D[0],A=D[1],G=function(){var e=Object(re.a)(ne.a.mark((function e(){var t,a,n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=N.timetable.find((function(e){return e.day.toLowerCase()===o.toLowerCase()})),a=N._id,n=t._id,e.prev=3,e.next=6,ce.post("/updatemess",{breakfast:u,lunch:O,dinner:y,messid:a,dayid:n});case 6:e.sent,F(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0),A(!0);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)(z.a,{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",width:"100vw",backgroundColor:"#eee",backgroundSize:"cover"},children:Object(n.jsx)(It.a,{in:!0,timeout:700,children:Object(n.jsxs)(m.a,{elevation:20,style:{padding:30,display:"flex",flexDirection:"column",justifyContent:"space-evenly"},children:[Object(n.jsx)(p.a,{gutterBottom:!0,variant:"h5",component:"h5",children:"Update Value"}),Object(n.jsxs)(n.Fragment,{children:[T?Object(n.jsx)(ve.a,{severity:"success",children:"Updated Successfully!"}):null,R?Object(n.jsx)(ve.a,{severity:"error",children:"Try Again"}):null,Object(n.jsx)(z.a,{children:Object(n.jsx)(pe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"day",label:"day",id:"day",value:o,placeholder:"Enter a day of week",onChange:function(e){var t=e.target;return l(t.value)},margin:"normal"})}),Object(n.jsx)(z.a,{children:Object(n.jsx)(pe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"breakfast",label:"breakfast",id:"breakfast",value:u,placeholder:"Enter breakfast dish",onChange:function(e){var t=e.target;return h(t.value)},margin:"normal"})}),Object(n.jsx)(z.a,{children:Object(n.jsx)(pe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"lunch",label:"lunch",id:"lunch",value:O,placeholder:"Enter lunch dish",onChange:function(e){var t=e.target;return v(t.value)},margin:"normal"})}),Object(n.jsx)(z.a,{children:Object(n.jsx)(pe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"dinner",label:"dinner",type:"dinner",id:"dinner",value:y,placeholder:"Enter dinner dish",onChange:function(e){var t=e.target;return w(t.value)},margin:"normal"})}),Object(n.jsx)(U.a,{style:{padding:10,marginTop:20,backgroundColor:"#A0A",color:"#FFF"},onClick:function(){G(),k()},children:"Update"})]})]})})})},Mt=function(e){var t=Object(r.useState)(""),a=Object(C.a)(t,2),i=a[0],c=a[1],s=Object(r.useState)(""),o=Object(C.a)(s,2),l=o[0],d=o[1],j=je().updateComponent,u=e.location.state.canteen,h=Object(r.useState)(!1),b=Object(C.a)(h,2),x=b[0],O=b[1],v=Object(r.useState)(!1),g=Object(C.a)(v,2),f=g[0],y=g[1],w=function(){var e=Object(re.a)(ne.a.mark((function e(){var t,a,n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.menu.find((function(e){return e.dish.replaceAll(" ","").toLowerCase()===i.replaceAll(" ","").toLowerCase()})),a=u._id,n=t._id,e.prev=3,e.next=6,ce.post("/updatedish",{canteenid:a,dishid:n,price:l});case 6:e.sent,O(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0),y(!0);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)(z.a,{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",width:"100vw",backgroundColor:"#eee",backgroundSize:"cover"},children:Object(n.jsx)(It.a,{in:!0,timeout:700,children:Object(n.jsxs)(m.a,{elevation:20,style:{padding:30,display:"flex",flexDirection:"column",justifyContent:"space-evenly"},children:[Object(n.jsx)(p.a,{gutterBottom:!0,variant:"h5",component:"h5",children:"Update Value"}),Object(n.jsxs)(n.Fragment,{children:[x?Object(n.jsx)(ve.a,{severity:"success",children:"Submited Successfully"}):null,f?Object(n.jsx)(ve.a,{severity:"error",children:"Try again"}):null,Object(n.jsx)(z.a,{children:Object(n.jsx)(pe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"Dish Name",label:"Dish Name",id:"Dish Name",value:i,placeholder:"Enter name of dish",onChange:function(e){var t=e.target;return c(t.value)},margin:"normal"})}),Object(n.jsx)(z.a,{children:Object(n.jsx)(pe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"Price",label:"Price",id:"Price",value:l,placeholder:"Enter price of dish",onChange:function(e){var t=e.target;return d(t.value)},margin:"normal"})}),Object(n.jsx)(U.a,{style:{padding:10,marginTop:20,backgroundColor:"#A0A",color:"#FFF"},onClick:function(){w(),j()},children:"Update"})]})]})})})},Pt=Object(o.a)((function(e){return{container:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:10,maxHeight:"100vh"},iButton:Object(b.a)({backgroundColor:"#00f",color:"#FFF",position:"fixed",bottom:"1%",right:"20%"},e.breakpoints.down("sm"),{bottom:10,right:10})}})),zt=function(e){var t=Pt();return e.location.state.reviews.map((function(e){return Object(n.jsxs)(j.a,{className:t.container,children:[Object(n.jsx)(yt,{review:e}),Object(n.jsx)(W.b,{to:"/mess/addreview",children:Object(n.jsx)(et.a,{className:t.iButton,size:"medium",children:Object(n.jsx)(at.a,{})})})]})}))},Ut=function(){var e=F().currentUser;return Object(n.jsx)(W.a,{children:Object(n.jsxs)(n.Fragment,{children:[e?Object(n.jsx)(Je,{title:"Grievance System"}):null,Object(n.jsxs)(M.d,{children:[Object(n.jsx)(Re,{exact:!0,path:"/",component:I}),Object(n.jsx)(M.b,{exact:!0,path:"/mess",component:be}),Object(n.jsx)(M.b,{exact:!0,path:"/mess/addreview",component:pt}),Object(n.jsx)(M.b,{exact:!0,path:"/mess/reviews",component:Ct}),Object(n.jsx)(M.b,{exact:!0,path:"/mess/update",component:Wt}),Object(n.jsx)(M.b,{exact:!0,path:"/canteen",component:Gt}),Object(n.jsx)(M.b,{exact:!0,path:"/canteen/addreview",component:gt}),Object(n.jsx)(M.b,{exact:!0,path:"/canteen/reviews",component:zt}),Object(n.jsx)(M.b,{exact:!0,path:"/canteen/update",component:Mt}),Object(n.jsx)(M.b,{exact:!0,path:"/grievance",component:rt}),Object(n.jsx)(M.b,{exact:!0,path:"/grievance/addgrievance",component:Bt}),Object(n.jsx)(M.b,{exact:!0,path:"/signin",component:fe}),Object(n.jsx)(M.b,{exact:!0,path:"/signup",component:Ee})]}),e?Object(n.jsx)(Et,{title:"",description:"This Application is a Student Project meant for Education Purposes only"}):null]})})};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(E,{children:Object(n.jsx)(le,{children:Object(n.jsx)(ue,{children:Object(n.jsx)(Ut,{})})})})}),document.getElementById("root"))}},[[181,1,2]]]);
//# sourceMappingURL=main.ae68afa9.chunk.js.map